<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chartjs_datalabels (chartjs-datalabels.Chartjs_datalabels)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">chartjs-datalabels</a> &#x00BB; Chartjs_datalabels</nav><h1>Module <code>Chartjs_datalabels</code></h1><nav class="toc"><ul><li><a href="#options">Options</a></li><li><a href="#positioning">Positioning</a><ul><li><a href="#anchoring">Anchoring</a></li><li><a href="#clamping">Clamping</a></li><li><a href="#alignment-and-offset">Alignment and Offset</a></li><li><a href="#rotation">Rotation</a></li><li><a href="#visibility">Visibility</a></li><li><a href="#overlap">Overlap</a></li><li><a href="#clipping">Clipping</a></li></ul></li><li><a href="#formatting">Formatting</a><ul><li><a href="#text-alignment">Text Alignment</a></li></ul></li><li><a href="#events">Events</a><ul><li><a href="#listeners">Listeners</a></li></ul></li><li><a href="#configuration">Configuration</a></li></ul></nav></header><div class="spec module" id="module-Align"><a href="#module-Align" class="anchor"></a><code><span class="keyword">module</span> <a href="Align/index.html">Align</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Anchor"><a href="#module-Anchor" class="anchor"></a><code><span class="keyword">module</span> <a href="Anchor/index.html">Anchor</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Visibility"><a href="#module-Visibility" class="anchor"></a><code><span class="keyword">module</span> <a href="Visibility/index.html">Visibility</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Text_align"><a href="#module-Text_align" class="anchor"></a><code><span class="keyword">module</span> <a href="Text_align/index.html">Text_align</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec class-type" id="class-type-font"><a href="#class-type-font" class="anchor"></a><code><span class="keyword">class</span> <span class="keyword">type</span>  <a href="class-type-font/index.html">font</a> = <span class="keyword">object</span> ... <span class="keyword">end</span></code></div><section><header><h2 id="options"><a href="#options" class="anchor"></a>Options</h2></header><div class="spec class-type" id="class-type-optionContext"><a href="#class-type-optionContext" class="anchor"></a><code><span class="keyword">class</span> <span class="keyword">type</span>  <a href="class-type-optionContext/index.html">optionContext</a> = <span class="keyword">object</span> ... <span class="keyword">end</span></code></div><div class="spec class-type" id="class-type-listeners"><a href="#class-type-listeners" class="anchor"></a><code><span class="keyword">class</span> <span class="keyword">type</span>  <a href="class-type-listeners/index.html">listeners</a> = <span class="keyword">object</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec type" id="type-prop"><a href="#type-prop" class="anchor"></a><code><span class="keyword">type</span> <span>'a prop</span></code><code> = <span><span><span>(<span><a href="class-type-optionContext/index.html">optionContext</a> Js_of_ocaml.Js.t</span>, <span class="type-var">'a</span>)</span> <a href="../../chartjs/Chartjs/Scriptable_indexable/index.html#type-t">Chartjs.Scriptable_indexable.t</a></span> Js_of_ocaml.Js.t</span></code></dt><dt class="spec type" id="type-formatter"><a href="#type-formatter" class="anchor"></a><code><span class="keyword">type</span> <span>'a formatter</span></code><code> = <span><span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span><a href="class-type-optionContext/index.html">optionContext</a> Js_of_ocaml.Js.t</span> <span>&#45;&gt;</span> <span>Js_of_ocaml.Js.js_string Js_of_ocaml.Js.t</span>)</span> Js_of_ocaml.Js.callback</span></code></dt></dl><div class="spec class-type" id="class-type-datalabels"><a href="#class-type-datalabels" class="anchor"></a><code><span class="keyword">class</span> <span class="keyword">type</span>  <a href="class-type-datalabels/index.html">datalabels</a> = <span class="keyword">object</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec value" id="val-empty_font"><a href="#val-empty_font" class="anchor"></a><code><span class="keyword">val</span> empty_font : unit <span>&#45;&gt;</span> <span><a href="class-type-font/index.html">font</a> Js_of_ocaml.Js.t</span></code></dt><dt class="spec value" id="val-empty_listeners"><a href="#val-empty_listeners" class="anchor"></a><code><span class="keyword">val</span> empty_listeners : unit <span>&#45;&gt;</span> <span><a href="class-type-listeners/index.html">listeners</a> Js_of_ocaml.Js.t</span></code></dt><dt class="spec value" id="val-empty_datalabels_config"><a href="#val-empty_datalabels_config" class="anchor"></a><code><span class="keyword">val</span> empty_datalabels_config : unit <span>&#45;&gt;</span> <span><a href="class-type-datalabels/index.html">datalabels</a> Js_of_ocaml.Js.t</span></code></dt></dl></section><section><header><h2 id="positioning"><a href="#positioning" class="anchor"></a>Positioning</h2></header><section><header><h3 id="anchoring"><a href="#anchoring" class="anchor"></a>Anchoring</h3><p>An anchor point is defined by an orientation vector and a position on the data element. The orientation depends on the scale type (vertical, horizontal or radial). The position is calculated based on the <a href="class-type-datalabels/index.html#method-anchor"><code>datalabels.anchor</code></a> option and the orientation vector.</p><p>Possible anchor values are defined in the <a href="Anchor/index.html"><code>Anchor</code></a> module.</p> <img
      src="https://chartjs-plugin-datalabels.netlify.com/assets/img/anchor.af396841.png"
      alt="chartjs-datalabels"></img> </header></section><section><header><h3 id="clamping"><a href="#clamping" class="anchor"></a>Clamping</h3><p>The <a href="class-type-datalabels/index.html#method-clamp"><code>datalabels.clamp</code></a> option, when <code>true</code>, enforces the anchor position to be calculated based on the visible geometry of the associated element (i.e. part inside the chart area).</p><p><b>NOTE:</b> If the element is fully hidden (i.e. entirely outside the chart area), anchor points will not be adjusted and thus will also be outside the viewport.</p> <img
      src="https://chartjs-plugin-datalabels.netlify.com/assets/img/clamp.3d93ea42.png"
      alt="chartjs-datalabels"></img> </header></section><section><header><h3 id="alignment-and-offset"><a href="#alignment-and-offset" class="anchor"></a>Alignment and Offset</h3><p>The <a href="class-type-datalabels/index.html#method-align"><code>datalabels.align</code></a> option defines the position of the label relative to the anchor point position and orientation. Its value can be expressed either by a number representing the clockwise angle (in degree) or by one of the predefined string values.</p><p>Possible values for <a href="class-type-datalabels/index.html#method-align"><code>datalabels.align</code></a> option are defined in the <a href="Align/index.html"><code>Align</code></a> module.</p><p>The <a href="class-type-datalabels/index.html#method-offset"><code>datalabels.offset</code></a> option represents the distance (in pixels) to pull the label away from the anchor point. This option is not applicable when align is <a href="Align/index.html#val-center"><code>Align.center</code></a>. Also note that if <a href="class-type-datalabels/index.html#method-align"><code>datalabels.align</code></a> is <a href="Align/index.html#val-start"><code>Align.start</code></a>, the label is moved in the opposite direction. The default value is <code>4</code>.</p> <img
      src="https://chartjs-plugin-datalabels.netlify.com/assets/img/align.fe79da09.png"
      alt="chartjs-datalabels"></img> </header></section><section><header><h3 id="rotation"><a href="#rotation" class="anchor"></a>Rotation</h3><p>The <a href="class-type-datalabels/index.html#method-rotation"><code>datalabels.rotation</code></a> option controls the clockwise rotation angle (in degrees) of the label, the rotation center point being the label center. The default value is <code>0</code> (no rotation).</p></header></section><section><header><h3 id="visibility"><a href="#visibility" class="anchor"></a>Visibility</h3><p>The <a href="class-type-datalabels/index.html#method-display"><code>datalabels.display</code></a> option controls the visibility of labels. The option is scriptable, so it's possible to show/hide specific labels.</p><p>Possible values are defined in the <a href="Visibility/index.html"><code>Visibility</code></a> module.</p></header></section><section><header><h3 id="overlap"><a href="#overlap" class="anchor"></a>Overlap</h3><p>The <a href="Visibility/index.html#val-auto"><code>Visibility.auto</code></a> option can be used to prevent overlapping labels, based on the following rules when two labels overlap:</p><ul><li>if both labels have <a href="class-type-datalabels/index.html#method-display"><code>datalabels.display</code></a> option set to <code>true</code>, they will be drawn overlapping</li><li>if both labels have <a href="class-type-datalabels/index.html#method-display"><code>datalabels.display</code></a> option set to <a href="Visibility/index.html#val-auto"><code>Visibility.auto</code></a>, the one with the highest data index will be hidden. If labels are at the same data index, the one with the lowest dataset index will be hidden</li><li>if one label has <a href="class-type-datalabels/index.html#method-display"><code>datalabels.display</code></a> option set to <code>true</code> and the other one has <a href="Visibility/index.html#val-auto"><code>Visibility.auto</code></a>, the one with <a href="Visibility/index.html#val-auto"><code>Visibility.auto</code></a> will be hidden (whatever the data/dataset indices)</li></ul></header></section><section><header><h3 id="clipping"><a href="#clipping" class="anchor"></a>Clipping</h3><p>When the <a href="class-type-datalabels/index.html#method-clip"><code>datalabels.clip</code></a> option is <code>true</code>, the part of the label which is outside the chart area will be masked.</p><p>For more information, see <a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/clip">MDN</a></p></header></section></section><section><header><h2 id="formatting"><a href="#formatting" class="anchor"></a>Formatting</h2></header><section><header><h3 id="text-alignment"><a href="#text-alignment" class="anchor"></a>Text Alignment</h3><p>The <a href="class-type-datalabels/index.html#method-textAlign"><code>datalabels.textAlign</code></a> option only applies to multiline labels and specifies the text alignment being used when drawing the label text.</p><p><b>NOTE:</b> right-to-left text detection based on the current locale is not currently implemented.</p><p>Possible values are defined in the <a href="Text_align/index.html"><code>Text_align</code></a> module.</p><p>For more information, see <a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/textAlign">MDN</a></p></header></section></section><section><header><h2 id="events"><a href="#events" class="anchor"></a>Events</h2></header><section><header><h3 id="listeners"><a href="#listeners" class="anchor"></a>Listeners</h3><p>The <a href="class-type-datalabels/index.html#method-listeners"><code>datalabels.listeners</code></a> option allows to register callbacks to be notified when an event is detected on a specific label. This option is an object where the property is the type of the event to listen and the value is a callback with a unique <code>context</code> argument.</p><p>The context contains the same information as for scriptable options, can be modified (e.g. add new properties) and thus, <b>if the callback explicitly returns <code>true</code></b>, the label is updated with the new context and the chart re-rendered. This allows to implement visual interactions with labels such as highlight, selection, etc.</p><p>Listeners can be registered for any label (<code>options.plugin.datalabels.listener.*</code>) or for labels of a specific dataset (<code>dataset.datalabels.listeners.*</code>).</p><p><em>Tip:</em> If no listener is registered, incoming events are immediately ignored, preventing extra computation such as intersecting label bounding box. That means there should be no performance penalty for configurations that don't use events.</p></header></section></section><section><header><h2 id="configuration"><a href="#configuration" class="anchor"></a>Configuration</h2></header><dl><dt class="spec value" id="val-of_dataset"><a href="#val-of_dataset" class="anchor"></a><code><span class="keyword">val</span> of_dataset : <span><a href="../../chartjs/Chartjs/index.html">Chartjs</a>.#dataset Js_of_ocaml.Js.t</span> <span>&#45;&gt;</span> <span><span><a href="class-type-datalabels/index.html">datalabels</a> Js_of_ocaml.Js.t</span> Js_of_ocaml.Js.optdef</span></code></dt><dt class="spec value" id="val-of_chart_options"><a href="#val-of_chart_options" class="anchor"></a><code><span class="keyword">val</span> of_chart_options : <span><a href="../../chartjs/Chartjs/index.html">Chartjs</a>.#chartOptions Js_of_ocaml.Js.t</span> <span>&#45;&gt;</span> <span><span><a href="class-type-datalabels/index.html">datalabels</a> Js_of_ocaml.Js.t</span> Js_of_ocaml.Js.optdef</span></code></dt><dt class="spec value" id="val-of_global"><a href="#val-of_global" class="anchor"></a><code><span class="keyword">val</span> of_global : unit <span>&#45;&gt;</span> <span><span><a href="class-type-datalabels/index.html">datalabels</a> Js_of_ocaml.Js.t</span> Js_of_ocaml.Js.optdef</span></code></dt><dt class="spec value" id="val-set_to_dataset"><a href="#val-set_to_dataset" class="anchor"></a><code><span class="keyword">val</span> set_to_dataset : <span><a href="../../chartjs/Chartjs/index.html">Chartjs</a>.#dataset Js_of_ocaml.Js.t</span> <span>&#45;&gt;</span> <span><a href="class-type-datalabels/index.html">datalabels</a> Js_of_ocaml.Js.t</span> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-set_to_chart_options"><a href="#val-set_to_chart_options" class="anchor"></a><code><span class="keyword">val</span> set_to_chart_options : <span><a href="../../chartjs/Chartjs/index.html">Chartjs</a>.#chartOptions Js_of_ocaml.Js.t</span> <span>&#45;&gt;</span> <span><a href="class-type-datalabels/index.html">datalabels</a> Js_of_ocaml.Js.t</span> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-set_globally"><a href="#val-set_globally" class="anchor"></a><code><span class="keyword">val</span> set_globally : <span><a href="class-type-datalabels/index.html">datalabels</a> Js_of_ocaml.Js.t</span> <span>&#45;&gt;</span> unit</code></dt></dl><aside><p>The plugin options can be changed at 3 different levels and are evaluated with the following priority:</p><ul><li>per dataset</li><li>per chart</li><li>or globally.</li></ul><p>To configure the plugin for a dataset, use <code>set_per_dataset</code>, <a href="index.html#val-of_dataset"><code>of_dataset</code></a>.</p><p>To configure the plugin for a chart, use <code>set_per_chart</code>, <code>of_chart</code>.</p><p>To configure the plugin globally, use <a href="index.html#val-set_globally"><code>set_globally</code></a>, <a href="index.html#val-of_global"><code>of_global</code></a>.</p></aside></section></div></body></html>